{
  "models": {
    "providers": {
      "kimi": {
        "baseUrl": "https://api.moonshot.cn/v1",
        "apiKey": "${KIMI_API_KEY}",
        "models": [
          {
            "id": "kimi-k2.5",
            "name": "Kimi K2.5",
            "contextWindow": 256000,
            "maxTokens": 8192,
            "reasoning": true
          }
        ]
      }
    }
  },
  "agents": {
    "defaults": {
      "model": {
        "primary": "kimi/kimi-k2.5"
      },
      "workspace": "/app/workspace",
      "extensionsDir": "/app/extensions",
      "contextTokens": 128000,
      "timeoutSeconds": 600,
      "thinkingDefault": "off",
      "verboseDefault": "off",
      "compaction": {
        "reserveTokensFloor": 20000,
        "softThresholdTokens": 4000,
        "memoryFlush": {
          "enabled": true
        }
      }
    },
    "list": [
      {
        "id": "main",
        "default": true
      }
    ]
  },
  "messages": {
    "groupChat": {
      "historyLimit": 50
    },
    "dm": {
      "historyLimit": 100
    },
    "queue": {
      "mode": "sequential",
      "cap": 10,
      "debounceMs": 100,
      "maxConcurrent": 1
    }
  },
  "tools": {
    "exec": {
      "security": "allowlist",
      "ask": "on-miss",
      "safeBins": ["jq", "grep", "cut", "sort", "uniq", "head", "tail", "tr", "wc"]
    },
    "allow": ["read", "write", "edit", "exec", "memory_search", "memory_get"]
  },
  "logging": {
    "level": "info",
    "format": "plain",
    "debug": false,
    "stacktrace": false
  },
  "gateway": {
    "host": "0.0.0.0",
    "port": 18789
  },
  "channels": {
    "telegram": {
      "enabled": false,
      "token": "${TELEGRAM_TOKEN}",
      "mode": "polling",
      "requireMention": true,
      "allowedUsers": [],
      "allowedGroups": []
    }
  }
}
